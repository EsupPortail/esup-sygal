{
    "name": "unicaen/sygal",
    "description": "Application de gestion des soutenances de th√®se",
    "repositories": [
        {
            "type": "composer",
            "url":  "https://gest.unicaen.fr/packagist"
        }
    ],
    "require-dev": {
        "unicaen/test":                         "^3.0",
        "zendframework/zend-developer-tools":   "^1.0"
    },
    "require": {
        "ext-fileinfo":                  "*",
        "ext-json":                      "*",
        "ext-imagick":                   "*",
        "ext-intl":                      "*",
        "ext-readline":                  "*",
        "ext-gettext":                   "*",
        "ext-ssh2":                      "*",
        "ext-zip":                       "*",
        "unicaen/app":                   "^3.0",
        "unicaen/auth":                  "dev-release-3.1.0",
        "unicaen/bjy-authorize":         "^3.0",
        "unicaen/db-import":             "dev-master",
        "unicaen/faq":                   "^3.0",
        "unicaen/ldap":                  "^3.0",
        "unicaen/oracle":                "^3.0",
        "unicaen/code":                  "^3.0",
        "ramsey/uuid":                   "^3.3",
        "guzzlehttp/guzzle":             "^6.3",
        "webmozart/assert":              "^1.3",
        "beberlei/assert":               "^2.9",
        "zendframework/zend-feed":       "^2.12"
    },
    "autoload": {
        "psr-0": {
            "Application\\": "module/Application/src",
            "Retraitement\\": "module/Retraitement/src",
            "Notification\\": "module/Notification/src",
            "Import\\": "module/Import/src"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "ApplicationUnitTest\\":        "module/Application/tests/ApplicationUnitTest",
            "ApplicationFunctionalTest\\":  "module/Application/tests/ApplicationFunctionalTest",
            "RetraitementTest\\":           "module/Retraitement/test/RetraitementTest",
            "ImportTest\\":                 "module/Import/tests/ImportTest"
        }
    },
    "scripts": {
        "post-install-cmd": [
            "cp -r vendor/unicaen/app/public/unicaen public/",
            "mkdir -p vendor/mpdf/mpdf/ttfontdata && chmod -R 777 vendor/mpdf/mpdf/ttfontdata",
            "mkdir -p data/cache && chmod -R 777 data/cache && rm -rf data/cache/*",
            "mkdir -p data/DoctrineModule/cache && chmod -R 777 data/DoctrineModule/cache && rm -rf data/DoctrineModule/cache/*",
            "mkdir -p data/DoctrineORMModule/Proxy && chmod -R 777 data/DoctrineORMModule/Proxy && rm -rf data/DoctrineORMModule/Proxy/*",
            "vendor/bin/doctrine-module orm:clear-cache:query &",
            "vendor/bin/doctrine-module orm:clear-cache:metadata &",
            "vendor/bin/doctrine-module orm:clear-cache:result &",
            "vendor/bin/doctrine-module orm:generate-proxies &",
            "./create-version-config-file --file /tmp/version.php --number $(git describe) --date $(git log --pretty='format:%ad' --date=format:'%d/%m/%Y %H:%M:%S' -1)"
        ]
    }
}
