#!/bin/bash

# fourni par l'ABES pour tester l'appel du WS

curl --location --request POST 'https://imports-test.theses.fr/services/DepotTEF' \
--header 'Content-Type: text/plain' \
--data-raw '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:dep="http://www.abes.fr/DepotTEF/" xmlns:xmime="http://www.w3.org/2005/05/xmlmime">
    <soapenv:Header/>
    <soapenv:Body>
        <dep:DepotRequest>
            <dep:idEtablissement>NORM</dep:idEtablissement>
            <dep:tef xmime:contentType="application/?">PG1ldHM6bWV0cyB4bWxuczptYWRzPSJodHRwOi8vd3d3LmxvYy5nb3YvbWFkcy8iIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczptZXRzUmlnaHRzPSJodHRwOi8vY29zaW1vLnN0YW5mb3JkLmVkdS9zZHIvbWV0c3JpZ2h0cy8iIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6ZGN0ZXJtcz0iaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zLyIgeG1sbnM6c3VqPSJodHRwOi8vd3d3LnRoZXNlcy5mci9uYW1lc3BhY2Uvc3VqZXRzIiB4bWxuczp0ZWY9Imh0dHA6Ly93d3cuYWJlcy5mci9hYmVzL2RvY3VtZW50cy90ZWYiIHhtbG5zOm1ldHM9Imh0dHA6Ly93d3cubG9jLmdvdi9NRVRTLyIgeHNpOnNjaGVtYUxvY2F0aW9uPSJodHRwOi8vd3d3LmxvYy5nb3YvTUVUUy8gc3RlZl9zY2hlbWFzLnhzZCI+Cgk8bWV0czptZXRzSGRyIElEPSJBTVVFLklNUE9SVFdTLk1FVFNfSEVBREVSIiBDUkVBVEVEQVRFPSIyMDEyLTA2LTI4VDA5OjQzOjIxWiIgTEFTVE1PRERBVEU9IjIwMTItMDYtMjhUMDk6NTg6MDZaIiBSRUNPUkRTVEFUVVM9InZhbGlkZSI+CgkJPG1ldHM6YWdlbnQgUk9MRT0iQ1JFQVRPUiI+CgkJCTxtZXRzOm5hbWUvPgoJCQk8bWV0czpub3RlPk5vdGU8L21ldHM6bm90ZT4KCQk8L21ldHM6YWdlbnQ+CgkJPG1ldHM6YWdlbnQgUk9MRT0iRElTU0VNSU5BVE9SIj4KCQkJPG1ldHM6bmFtZT5BQkVTPC9tZXRzOm5hbWU+CgkJPC9tZXRzOmFnZW50PgoJCTxtZXRzOmFsdFJlY29yZElEIElEPSJBTVVFLklNUE9SVFdTLk1FVFNfSEVBREVSLkFMVEVSTkFURSIgVFlQRT0iIi8+Cgk8L21ldHM6bWV0c0hkcj4KCTxtZXRzOmRtZFNlYyBJRD0iQU1VRS5JTVBPUlRXUy5ERVNDUklQVElPTl9CSUJMSU9HUkFQSElRVUUiPgoJCTxtZXRzOm1kV3JhcCBNRFRZUEU9Ik9USEVSIiBPVEhFUk1EVFlQRT0idGVmX2Rlc2NfdGhlc2UiPgoJCQk8bWV0czp4bWxEYXRhPgoJCQkJPHRlZjp0aGVzaXNSZWNvcmQ+CgkJCQkJPGRjOnRpdGxlIHhtbDpsYW5nPSJmciI+TGEgZGF0ZSBwcmV2IGVzdCBkYW5zIHBsdXMgZGUgNiBtb2lzPC9kYzp0aXRsZT4KCQkJCQk8ZGM6dHlwZT5UaGVzaXMgb3IgRGlzc2VydGF0aW9uPC9kYzp0eXBlPgoJCQkJCTxkYzp0eXBlIHhzaTp0eXBlPSJkY3Rlcm1zOkRDTUlUeXBlIj5UZXh0PC9kYzp0eXBlPgoJCQkJPC90ZWY6dGhlc2lzUmVjb3JkPgoJCQk8L21ldHM6eG1sRGF0YT4KCQk8L21ldHM6bWRXcmFwPgoJPC9tZXRzOmRtZFNlYz4KCTxtZXRzOmFtZFNlYz4KCQk8bWV0czp0ZWNoTUQgSUQ9IkFNVUUuSU1QT1JUV1MuQURNSU5JU1RSQVRJT04iPgoJCQk8bWV0czptZFdyYXAgTURUWVBFPSJPVEhFUiIgT1RIRVJNRFRZUEU9InRlZl9hZG1pbl90aGVzZSI+CgkJCQk8bWV0czp4bWxEYXRhPgoJCQkJCTx0ZWY6dGhlc2lzQWRtaW4+CgkJCQkJCTx0ZWY6YXV0ZXVyPgoJCQkJCQkJPHRlZjpub20+QW5rdW5kaW5nPC90ZWY6bm9tPgoJCQkJCQkJPHRlZjpwcmVub20+QW5rdW5kaW5nPC90ZWY6cHJlbm9tPgoJCQkJCQkJPHRlZjpub21EZU5haXNzYW5jZT5Bbmt1bmRpbmc8L3RlZjpub21EZU5haXNzYW5jZT4KCQkJCQkJCTx0ZWY6ZGF0ZU5haXNzYW5jZT4xOTg4LTEwLTE5PC90ZWY6ZGF0ZU5haXNzYW5jZT4KCQkJCQkJCTxzdWo6YWRyZXNzZURvY3RvcmFudD4xMTggUnVlIENow6J0ZWF1IGRlcyBSZW50aWVyczwvc3VqOmFkcmVzc2VEb2N0b3JhbnQ+CgkJCQkJCQk8c3VqOmNvZGVQb3N0YWxEb2N0b3JhbnQ+NzUwMTM8L3N1ajpjb2RlUG9zdGFsRG9jdG9yYW50PgoJCQkJCQkJPHN1ajp2aWxsZUFkcmVzc2VEb2N0b3JhbnQ+UEFSSVM8L3N1ajp2aWxsZUFkcmVzc2VEb2N0b3JhbnQ+CgkJCQkJCQk8c3VqOnBheXNBZHJlc3NlRG9jdG9yYW50PjEwMDwvc3VqOnBheXNBZHJlc3NlRG9jdG9yYW50PgoJCQkJCQkJPHRlZjphdXRvcml0ZUV4dGVybmUgYXV0b3JpdGVTb3VyY2U9Im1haWxQZXJzbyI+c3RoZUBhYmVzLmZyPC90ZWY6YXV0b3JpdGVFeHRlcm5lPgoJCQkJCQkJPHRlZjphdXRvcml0ZUV4dGVybmUgYXV0b3JpdGVTb3VyY2U9IklORSI+MEc0MTFLMDNTTTA8L3RlZjphdXRvcml0ZUV4dGVybmU+CgkJCQkJCQk8dGVmOmF1dG9yaXRlRXh0ZXJuZSBhdXRvcml0ZVNvdXJjZT0iQ29kZUV0dSI+MTEwMzQ2NDI8L3RlZjphdXRvcml0ZUV4dGVybmU+CgkJCQkJCQk8dGVmOmF1dG9yaXRlRXh0ZXJuZSBhdXRvcml0ZVNvdXJjZT0iRGlwbG9tZVNJU0U0MiI+NDIwMDAzMjwvdGVmOmF1dG9yaXRlRXh0ZXJuZT4KCQkJCQkJPC90ZWY6YXV0ZXVyPgoJCQkJCQk8dGVmOnRoZXNpcy5kZWdyZWU+CgkJCQkJCQk8dGVmOnRoZXNpcy5kZWdyZWUuZGlzY2lwbGluZSB4bWw6bGFuZz0iZnIiPkhJU1RPSVJFPC90ZWY6dGhlc2lzLmRlZ3JlZS5kaXNjaXBsaW5lPgoJCQkJCQkJPHRlZjp0aGVzaXMuZGVncmVlLmdyYW50b3I+CgkJCQkJCQkJPHRlZjpub20+UEEwMTwvdGVmOm5vbT4KCQkJCQkJCTwvdGVmOnRoZXNpcy5kZWdyZWUuZ3JhbnRvcj4KCQkJCQkJCTx0ZWY6dGhlc2lzLmRlZ3JlZS5sZXZlbD5Eb2N0b3JhdDwvdGVmOnRoZXNpcy5kZWdyZWUubGV2ZWw+CgkJCQkJCQk8dGVmOnRoZXNpcy5kZWdyZWUubmFtZSB4bWw6bGFuZz0iZnIiPkRvY3RldXIgZXM8L3RlZjp0aGVzaXMuZGVncmVlLm5hbWU+CgkJCQkJCQk8c3VqOmRhdGVQcmVtaWVyZUluc2NyaXB0aW9uRG9jdG9yYXQ+MjAxMS0xMS0xNTwvc3VqOmRhdGVQcmVtaWVyZUluc2NyaXB0aW9uRG9jdG9yYXQ+CgkJCQkJCQk8c3VqOmRhdGVJbnNjcmlwdGlvbkV0YWI+MjAxMS0xMS0xNTwvc3VqOmRhdGVJbnNjcmlwdGlvbkV0YWI+CgkJCQkJCQk8c3VqOmNvbnRyYXREb2N0b3JhbD5ub248L3N1ajpjb250cmF0RG9jdG9yYWw+CgkJCQkJCTwvdGVmOnRoZXNpcy5kZWdyZWU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3VqOnZpZSBkZXJvZ2F0aW9uRGl4QW5zPSJub24iIGNvbW1lbnREaXhBbnM9IiI+CgkJCQkJCQk8c3VqOnNvdXRlbmFuY2VQcmV2dWU+CgkJCQkJCQkJPHN1ajpkYXRlUHJldnVlPjIwMjItMTItMTU8L3N1ajpkYXRlUHJldnVlPgoJCQkJCQkJPC9zdWo6c291dGVuYW5jZVByZXZ1ZT4KCQkJCQkJPC9zdWo6dmllPgoJCQkJCQk8dGVmOmRpcmVjdGV1clRoZXNlPgoJCQkJCQkJPHRlZjpub20+UE9JVkVSVDwvdGVmOm5vbT4KCQkJCQkJCTx0ZWY6cHJlbm9tPk1JQ0hFTDwvdGVmOnByZW5vbT4KCQkJCQkJCTx0ZWY6YXV0b3JpdGVFeHRlcm5lIGF1dG9yaXRlU291cmNlPSJDb2RlQ05VIj4yMjAwPC90ZWY6YXV0b3JpdGVFeHRlcm5lPgoJCQkJCQk8L3RlZjpkaXJlY3RldXJUaGVzZT4KCQkJCQkJPHRlZjplY29sZURvY3RvcmFsZT4KCQkJCQkJCTx0ZWY6bm9tPkhpc3RvaXJlIGRlIGwmYXBvczthcnQ8L3RlZjpub20+CgkJCQkJCQk8dGVmOmF1dG9yaXRlRXh0ZXJuZSBhdXRvcml0ZVNvdXJjZT0iQW5udWFpcmUgZGVzIGZvcm1hdGlvbnMgZG9jdG9yYWxlcyBldCBkZXMgdW5pdMOpcyBkZSByZWNoZXJjaGUiPjQ0MTwvdGVmOmF1dG9yaXRlRXh0ZXJuZT4KCQkJCQkJPC90ZWY6ZWNvbGVEb2N0b3JhbGU+CgkJCQkJCTx0ZWY6cGFydGVuYWlyZVJlY2hlcmNoZSB0eXBlPSJlcXVpcGVSZWNoZXJjaGUiPgoJCQkJCQkJPHRlZjpub20+SGlDU0EgOiBIaXN0b2lyZSBjdWx0dXJlbGxlIGV0IHNvY2lhbGUgZGUgbCZhcG9zO2FydCAoRUEgNDEwMCk8L3RlZjpub20+CgkJCQkJCTwvdGVmOnBhcnRlbmFpcmVSZWNoZXJjaGU+CgkJCQkJPC90ZWY6dGhlc2lzQWRtaW4+CgkJCQk8L21ldHM6eG1sRGF0YT4KCQkJPC9tZXRzOm1kV3JhcD4KCQk8L21ldHM6dGVjaE1EPgoJPC9tZXRzOmFtZFNlYz4KCTxtZXRzOnN0cnVjdE1hcCBUWVBFPSJsb2dpY2FsIj4KCQk8bWV0czpkaXYgVFlQRT0iVEhFU0UiIENPTlRFTlRJRFM9Ik5PUk00MTA5OTg4OTgzMjgzNTc1MCIgRE1ESUQ9IkFNVUUuSU1QT1JUV1MuREVTQ1JJUFRJT05fQklCTElPR1JBUEhJUVVFIiBBRE1JRD0iQU1VRS5JTVBPUlRXUy5BRE1JTklTVFJBVElPTiIvPgoJPC9tZXRzOnN0cnVjdE1hcD4KPC9tZXRzOm1ldHM+</dep:tef>
        </dep:DepotRequest>
    </soapenv:Body>
</soapenv:Envelope>'
