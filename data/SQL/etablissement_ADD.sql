-- NB NOT NULL NE PEUT ETRE DONNEE QU A UNE TABLE VIDE

-- CREATE THE TABLE ETAB

CREATE TABLE ETAB
(
  ID NUMBER(*) PRIMARY KEY NOT NULL,
  LIBELLE VARCHAR2(128) NOT NULL
);
--CREATE UNIQUE INDEX ETAB_ID_uindex ON ETAB (ID);

INSERT INTO ETAB (ID, LIBELLE) VALUES (1, 'Normandie Université');
INSERT INTO ETAB (ID, LIBELLE) VALUES (2, 'Université de Caen');
INSERT INTO ETAB (ID, LIBELLE) VALUES (3, 'Université de Rouen');
INSERT INTO ETAB (ID, LIBELLE) VALUES (4, 'Université du Havre');
INSERT INTO ETAB (ID, LIBELLE) VALUES (5, 'INSA Rouen');

-- AJOUT DANS LA TABLE THESARD

ALTER TABLE THESARD ADD ETAB_ID NUMBER(*);
ALTER TABLE THESARD ADD CONSTRAINT THESARD_ETFK FOREIGN KEY (ETAB_ID) REFERENCES ETAB (ID);

UPDATE THESARD SET ETAB_ID = 2;

-- AJOUT DANS LA TABLE THESE

ALTER TABLE THESE ADD ETAB_ID NUMBER(*);
ALTER TABLE THESE ADD CONSTRAINT THESE_ETFK FOREIGN KEY (ETAB_ID) REFERENCES ETAB (ID);

UPDATE THESE SET ETAB_ID = 2;